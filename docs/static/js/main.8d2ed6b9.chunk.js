(this["webpackJsonpdata-visualization"]=this["webpackJsonpdata-visualization"]||[]).push([[0],{100:function(t,e,a){},102:function(t,e,a){"use strict";a.r(e);var n=a(6),c=a(0),i=a.n(c),r=a(9),s=a.n(r),o=(a(89),a(72)),l=a(40),h=a(74),d=a(143),u=a(151),j=a(154),b=a(152),x=a(157),m=a(103),g=a(150),p=a(69),v=a(70),O=a(49),f=a(75),S=a(73),k=a(21),_=(a(100),a(16)),y=function(t){Object(f.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).state=n.getInitialState(t),n._tooltipHtml=n._tooltipHtml.bind(Object(O.a)(n)),n._onChange=n._onChange.bind(Object(O.a)(n)),n}return Object(v.a)(a,[{key:"getInitialState",value:function(t){var e=_.chartWidth,a=_.chartMargin,n=_.brushMargin,c=this._getRange(t.data),i=c.minX,r=c.maxX;return{data:t.data,xScale:k.d3.time.scale().domain([i,r]).range([0,e-(null===a||void 0===a?void 0:a.left)-(null===a||void 0===a?void 0:a.right)]),xScaleBrush:k.d3.time.scale().domain([i,r]).range([0,e-(null===n||void 0===n?void 0:n.left)-(null===n||void 0===n?void 0:n.right)])}}},{key:"_getRange",value:function(t){var e,a,n,c;t.length>0&&(e=(null===(n=t[0].values)||void 0===n?void 0:n.length)>0?t[0].values[0].x:0,a=(null===(c=t[0].values)||void 0===c?void 0:c.length)>0?t[0].values[t[0].values.length-1].x:0);return{minX:e,maxX:a}}},{key:"_tooltipHtml",value:function(t,e){return"this is a test"}},{key:"_onChange",value:function(t){var e=_.chartWidth,a=_.chartMargin;this.setState({xScale:k.d3.time.scale().domain([t[0],t[1]]).range([0,e-(null===a||void 0===a?void 0:a.left)-(null===a||void 0===a?void 0:a.right)])})}},{key:"render",value:function(){var t=_.chartWidth,e=_.chartHeight,a=_.chartMargin,c=_.brushHeight,i=_.brushMargin,r=this._getRange(this.state.data),s=r.minX,o=r.maxX;return Object(n.jsxs)("div",{children:[Object(n.jsx)(k.LineChart,{data:this.state.data,width:t,height:e,margin:a,xScale:this.state.xScale,xAxis:{tickValues:this.state.xScale.ticks(k.d3.time.day,2),tickFormat:k.d3.time.format("%m/%d")},tooltipHtml:this._tooltipHtml}),Object(n.jsx)("div",{className:"brush",style:{float:"none"},children:Object(n.jsx)(k.Brush,{width:t,height:c,margin:i,xScale:this.state.xScaleBrush,extent:[s,o],onChange:this._onChange,xAxis:{tickValues:this.state.xScaleBrush.ticks(k.d3.time.day,2),tickFormat:k.d3.time.format("%m/%d")}})})]})}}]),a}(c.Component),C=a(53),T=a(153),N=a(149),D=a(155),I=a(159),M=a(160),w=a(158),F=a(147),H=a(148),E=a(156),A=Object(d.a)((function(t){return Object(x.a)({paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}})})),L=function(t){var e=A(),a=function(t){setState(Object(l.a)(Object(l.a)({},state),{},Object(C.a)({},t.target.name,t.target.checked)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(m.a,{className:e.paper,children:[Object(n.jsx)("h3",{children:"Stock Movement"}),Object(n.jsx)("div",{children:Object(n.jsx)(T.a,{label:"normalization factor",type:"number",fullWidth:!0,inputProps:{min:"0",max:"2",step:"0.1"},InputLabelProps:{shrink:!0},variant:"outlined"})})]}),Object(n.jsxs)(m.a,{className:e.paper,children:[Object(n.jsx)("h3",{children:"Sentiment model"}),Object(n.jsxs)(w.a,{component:"fieldset",children:[Object(n.jsx)(F.a,{component:"legend",children:"Sentiment"}),Object(n.jsxs)(I.a,{defaultValue:"textblob","aria-label":"sentiment",name:"sentiment-model",children:[Object(n.jsx)(M.a,{value:"textblob",control:Object(n.jsx)(D.a,{}),label:"textblob"}),Object(n.jsx)(M.a,{value:"custom",control:Object(n.jsx)(D.a,{}),label:"custom"})]})]}),Object(n.jsxs)(w.a,{component:"fieldset",children:[Object(n.jsx)(F.a,{component:"legend",children:"Source"}),Object(n.jsxs)(H.a,{children:[Object(n.jsx)(M.a,{control:Object(n.jsx)(E.a,{onChange:a,name:"twitter"}),label:"Twitter"}),Object(n.jsx)(M.a,{control:Object(n.jsx)(E.a,{onChange:a,name:"nyt"}),label:"NYT"})]})]})]}),Object(n.jsx)(N.a,{size:"small",children:"Update Chart"})]})},W=Object(d.a)((function(t){return Object(x.a)({container:{flexGrow:1},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}})})),X=function(t){var e=W(),a=[{label:"stock",values:t.chartData.stock}];return Object(n.jsx)("div",{className:e.container,children:Object(n.jsxs)(g.a,{container:!0,spacing:3,children:[Object(n.jsx)(g.a,{item:!0,xs:2,children:Object(n.jsx)(L,{})}),Object(n.jsx)(g.a,{item:!0,xs:10,children:Object(n.jsx)(m.a,{className:e.paper,children:Object(n.jsx)(y,{data:a})})})]})})};function B(t){var e=t.value,a=t.index,c=t.chartData,i=Object(h.a)(t,["value","index","chartData"]);return Object(n.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:e!==a,id:"tabpanel-".concat(a)},i),{},{children:e===a&&Object(n.jsx)(X,{chartData:c})}))}var P=Object(d.a)((function(t){return{root:{flexGrow:1,backgroundColor:t.palette.background.paper}}}));function R(t){var e=P(),a=Object(c.useState)(0),i=Object(o.a)(a,2),r=i[0],s=i[1],l=_.companies;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Sentiment Analysis for Stockmarket"}),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(u.a,{position:"static",children:Object(n.jsx)(j.a,{value:r,onChange:function(t,e){s(e)},children:l.map((function(t,e){return Object(n.jsx)(b.a,{id:"tab-".concat(e),label:t})}))})}),l.map((function(e,a){return Object(n.jsx)(B,{value:r,index:a,chartData:t.appData[e]})}))]})]})}var z=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,161)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;a(t),n(t),c(t),i(t),r(t)}))};fetch("data/aggregated.json").then((function(t){return t.json()})).then((function(t){var e=function(t){var e={};return t.map((function(t){var a=t.date,n=t.company,c=(t.source,t.sent_score_textblob,t.sent_score_custom,t.positives_textblob,t.negatives_textblob,t.positives_custom,t.negatives_custom,t.price),i=t.price_change,r=a.split("-"),s=new Date("".concat(r[2],"-").concat(r[0],"-").concat(r[1],"T20:00:00.000Z"));e[n]=e[n]||{stock:[],sentiment:{NYTIMES:{textblob:[],custom:[]},TWITTER:{textblob:[],custom:[]}}},"TWITTER"===t.source&&e[n].stock.push({x:s,price:c,y:c&&i?i/c:0})})),e}(t);s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(R,{appData:e})}),document.getElementById("root"))})),z()},16:function(t){t.exports=JSON.parse('{"companies":["APPLE","DISNEY","NETFLIX","TESLA"],"chartMargin":{"top":10,"bottom":50,"left":50,"right":20},"brushMargin":{"top":0,"bottom":30,"left":50,"right":20},"chartWidth":1200,"chartHeight":400,"brushHeight":50}')},89:function(t,e,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.8d2ed6b9.chunk.js.map